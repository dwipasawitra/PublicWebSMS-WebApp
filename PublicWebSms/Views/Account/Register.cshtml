@{
    ViewBag.Title = "Halaman Pendaftaran";
}

<div class="row">
    <img src="~/Content/images/loading.gif" id="loading" />
</div>

<div class="row">
    <div class="span8">
        <p>Silahkan melengkapi formulir di bawah ini dan menyetujui segala jenis <strong><a href="#ketentuan">ketentuan</a></strong> penggunaan layanan PublicWebSMS agar Anda dapat menggunakan layanan ini.</p>
    </div>
</div>

<div class="row">
    <div class="span8">Terima kasih.<br /><strong>Admin</strong></div>
</div>
<br />
<div id="error" class="row" style="display:none;">
    <div class="span5">
        <span class="label warning">Maaf isian kurang lengkap</span>
    </div>
</div>

<form method="post" id="registerform">
    <div class="row">
        <div class="span5">
            <div class="input-control text">
                <input type="text" name="FullName" id="FullName" placeholder="Nama lengkap" maxlength="50"/>
                <button class="btn-clear" tabindex="-1" type="button"></button>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="span5">
            <div class="input-control text">
                <input type="text" name="Email" id="Email" placeholder="Surel" />
                <button class="btn-clear" tabindex="-1" type="button"></button>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="span5">
            <div class="input-control password">
                <input type="password" name="Password" id="Password" placeholder="Kata sandi" />
                <button class="btn-reveal" tabindex="-1" type="button"></button>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="span5">
            <div class="input-control password">
                <input type="password" name="ConfirmPassword" id="ConfirmPassword" placeholder="Ketik ulang kata sandi" />
                <button class="btn-reveal" tabindex="-1" type="button"></button>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="span5">
            <fieldset>
                <legend class="label info">Ketentuan Layanan</legend>
                <ol>
                    <li>No SARA!</li>
                    <li>No Repost!</li>
                    <li>No Hoax!</li>
                    <li>No Flame!</li>
                </ol>
            </fieldset>
        </div>
    </div>

    <div class="row">
        <div class="span5">
            <label class="input-control checkbox" onclick="">
                <input type="checkbox" name="AcceptTerm" id="AcceptTerm" value="true" />
                <span class="helper">Saya setuju dengan Ketentuan Layanan di atas.</span>
            </label>
        </div>
    </div>

<div class="row">
    <input type="submit" value="Daftar" class="bg-color-blue"/>
</div>
    
</form>

<script>
    $("#error").hide();
    $("#loading").hide();
    $("#registerform").submit(function () {
        //alert($("#registerform").serialize());
        $("#loading").show();
        $.post("@Url.Content("~/Account/Register")", $("#registerform").serialize(), function (data) {
            $("#loading").hide();
            if (data == false) {
                $("#error").fadeIn(500);
                return false;
            }
            else {
                window.location = "@Url.Content("~/Account/RegisterSuccess")";
            }
        }, "json");
        
        return false;
    });
</script>